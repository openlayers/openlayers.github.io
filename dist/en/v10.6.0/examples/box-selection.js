"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8999],{68778:function(e,t,n){var o=n(41564),r=n(87240),c=n(38808),a=n(16235),s=n(49208),i=n(62126),l=n(68266),g=n(23986),u=n(29810),f=n(38276),w=n(44689),d=n(88292);const A=new u.A({url:"https://openlayers.org/data/vector/ecoregions.json",format:new s.A}),y=new d.Ay({fill:new f.A({color:"#eeeeee"})}),h=new o.A({layers:[new g.A({source:A,background:"#1a2b39",style:function(e){const t=e.get("COLOR_BIO")||"#eeeeee";return y.getFill().setColor(t),y}})],target:"map",view:new r.Ay({center:[0,0],zoom:2,constrainRotation:16})}),m=new d.Ay({fill:new f.A({color:"rgba(255, 255, 255, 0.6)"}),stroke:new w.A({color:"rgba(255, 255, 255, 0.7)",width:2})}),x=new l.A({style:function(e){const t=e.get("COLOR_BIO")||"#eeeeee";return m.getFill().setColor(t),m}});h.addInteraction(x);const E=x.getFeatures(),b=new i.A({condition:c.k5});h.addInteraction(b),b.on("boxend",(function(){const e=b.getGeometry().getExtent(),t=h.getView().getProjection().getExtent(),n=(0,a.RG)(t),o=Math.floor((e[0]-t[0])/n),r=Math.floor((e[2]-t[0])/n);for(let c=o;c<=r;++c){const o=Math.max(e[0]-c*n,t[0]),r=Math.min(e[2]-c*n,t[2]),a=[o,e[1],r,e[3]],s=A.getFeaturesInExtent(a).filter((e=>!E.getArray().includes(e)&&e.getGeometry().intersectsExtent(a))),i=h.getView().getRotation();if(i%(Math.PI/2)!=0){const e=[0,0],t=b.getGeometry().clone();t.translate(-c*n,0),t.rotate(-i,e);const o=t.getExtent();s.forEach((function(t){const n=t.getGeometry().clone();n.rotate(-i,e),n.intersectsExtent(o)&&E.push(t)}))}else E.extend(s)}})),b.on("boxstart",(function(){E.clear()}));const p=document.getElementById("info");E.on(["add","remove"],(function(){const e=E.getArray().map((e=>e.get("ECO_NAME")));e.length>0?p.innerHTML=e.join(", "):p.innerHTML="None"}))}},function(e){var t;t=68778,e(e.s=t)}]);
//# sourceMappingURL=box-selection.js.map