"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9190],{54929:function(e,n,t){var r=t(74977),o=t(41564),c=t(87240),a=t(94782),s=t(49208),i=t(17534),u=t(30135),d=t(28665),l=t(56182),f=t(35947),w=t(12185),g=t(23986),m=t(28e3),A=t(29810);let k;function p(e){k=(0,r.AO)(new Uint8Array(e));const n=Object.keys(k).find((e=>/\.kml$/i.test(e)));return n in k?(new TextDecoder).decode(k[n]):null}function y(e){const n=window.location.href.lastIndexOf("/");if(-1===n)return e;const t=e.slice(n+1);return t in k?URL.createObjectURL(new Blob([k[t]])):e}class h extends u.Ay{constructor(e){const n=e||{};n.iconUrlFunction=y,super(n)}getType(){return"arraybuffer"}readFeature(e,n){const t=p(e);return super.readFeature(t,n)}readFeatures(e,n){const t=p(e);return super.readFeatures(t,n)}}const b=new l.A({formatConstructors:[h,a.A,s.A,i.A,u.Ay,d.A]}),x=new o.A({interactions:(0,f.N)().extend([b]),layers:[new w.A({source:new m.A})],target:"map",view:new c.Ay({center:[0,0],zoom:2})});b.on("addfeatures",(function(e){const n=new A.A({features:e.features});x.addLayer(new g.A({source:n})),x.getView().fit(n.getExtent())}));const L=function(e){const n=x.getFeaturesAtPixel(e);let t;if(n.length>0){const e=[];for(let t=0,r=n.length;t<r;++t){const r=n[t].get("description")||n[t].get("name")||n[t].get("_name")||n[t].get("layer");r&&e.push(r)}t=e.join("<br/>")}document.getElementById("info").innerHTML=t??""};x.on("pointermove",(function(e){e.dragging||L(e.pixel)})),x.on("click",(function(e){L(e.pixel)}));const v=document.getElementById("download");document.getElementById("download-kmz").addEventListener("click",(function(){var e;e="iceland.kmz",fetch("data/kmz/iceland.kmz").then((e=>e.blob())).then((function(n){v.href=URL.createObjectURL(n),v.download=e,v.click()}))}))}},function(e){var n;n=54929,e(e.s=n)}]);
//# sourceMappingURL=drag-and-drop-custom-kmz.js.map