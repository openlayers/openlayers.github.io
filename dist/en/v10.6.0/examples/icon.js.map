{"version":3,"file":"icon.js","mappings":"wNAYA,MAAMA,EAAc,IAAI,IAAQ,CAC9BC,SAAU,IAAI,IAAM,CAAC,EAAG,IACxBC,KAAM,cACNC,WAAY,IACZC,SAAU,MAGNC,EAAY,IAAI,KAAM,CAC1BC,MAAO,IAAI,IAAK,CACdC,OAAQ,CAAC,GAAK,IACdC,aAAc,WACdC,aAAc,SACdC,IAAK,oBAITV,EAAYW,SAASN,GAErB,MAAMO,EAAe,IAAI,IAAa,CACpCC,SAAU,CAACb,KAGPc,EAAc,IAAI,IAAY,CAClCC,OAAQH,IAGJI,EAAc,IAAI,IAAU,CAChCD,OAAQ,IAAI,IAAW,CACrBE,IAAK,6GACLC,YAAa,OAIXC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACJ,EAAaF,GACtBO,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAIJC,EAAUL,SAASC,eAAe,SAElCK,EAAQ,IAAI,IAAQ,CACxBD,QAASA,EACTE,YAAa,gBACbC,WAAW,IAIb,IAAIC,EACJ,SAASC,IACHD,IACFA,EAAQE,UACRF,OAAUG,EAEd,CARAf,EAAIgB,WAAWP,GAUfT,EAAIiB,GAAG,SAAS,SAAUC,GACxB,MAAMC,EAAUnB,EAAIoB,sBAAsBF,EAAIG,OAAO,SAAUF,GAC7D,OAAOA,CACT,IACAN,IACKM,IAGLV,EAAMa,YAAYJ,EAAIK,YACtBX,EAAU,IAAIY,UAAUC,QAAQjB,EAAS,CACvCkB,UAAW,MACXC,MAAM,EACNC,QAAST,EAAQU,IAAI,UAEvBjB,EAAQkB,OACV,IAGA9B,EAAIiB,GAAG,eAAe,SAAUc,GAC9B,MAAMC,EAAMhC,EAAIiC,kBAAkBF,EAAEV,OACpCrB,EAAIkC,mBAAmBC,MAAMC,OAASJ,EAAM,UAAY,EAC1D,IAEAhC,EAAIiB,GAAG,YAAaJ,E","sources":["webpack:///./icon.js"],"sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Map from '../src/ol/Map.js';\nimport Overlay from '../src/ol/Overlay.js';\nimport View from '../src/ol/View.js';\nimport Point from '../src/ol/geom/Point.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport VectorLayer from '../src/ol/layer/Vector.js';\nimport OGCMapTile from '../src/ol/source/OGCMapTile.js';\nimport VectorSource from '../src/ol/source/Vector.js';\nimport Icon from '../src/ol/style/Icon.js';\nimport Style from '../src/ol/style/Style.js';\n\nconst iconFeature = new Feature({\n  geometry: new Point([0, 0]),\n  name: 'Null Island',\n  population: 4000,\n  rainfall: 500,\n});\n\nconst iconStyle = new Style({\n  image: new Icon({\n    anchor: [0.5, 46],\n    anchorXUnits: 'fraction',\n    anchorYUnits: 'pixels',\n    src: 'data/icon.png',\n  }),\n});\n\niconFeature.setStyle(iconStyle);\n\nconst vectorSource = new VectorSource({\n  features: [iconFeature],\n});\n\nconst vectorLayer = new VectorLayer({\n  source: vectorSource,\n});\n\nconst rasterLayer = new TileLayer({\n  source: new OGCMapTile({\n    url: 'https://maps.gnosis.earth/ogcapi/collections/NaturalEarth:raster:HYP_HR_SR_OB_DR/map/tiles/WebMercatorQuad',\n    crossOrigin: '',\n  }),\n});\n\nconst map = new Map({\n  layers: [rasterLayer, vectorLayer],\n  target: document.getElementById('map'),\n  view: new View({\n    center: [0, 0],\n    zoom: 3,\n  }),\n});\n\nconst element = document.getElementById('popup');\n\nconst popup = new Overlay({\n  element: element,\n  positioning: 'bottom-center',\n  stopEvent: false,\n});\nmap.addOverlay(popup);\n\nlet popover;\nfunction disposePopover() {\n  if (popover) {\n    popover.dispose();\n    popover = undefined;\n  }\n}\n// display popup on click\nmap.on('click', function (evt) {\n  const feature = map.forEachFeatureAtPixel(evt.pixel, function (feature) {\n    return feature;\n  });\n  disposePopover();\n  if (!feature) {\n    return;\n  }\n  popup.setPosition(evt.coordinate);\n  popover = new bootstrap.Popover(element, {\n    placement: 'top',\n    html: true,\n    content: feature.get('name'),\n  });\n  popover.show();\n});\n\n// change mouse cursor when over marker\nmap.on('pointermove', function (e) {\n  const hit = map.hasFeatureAtPixel(e.pixel);\n  map.getTargetElement().style.cursor = hit ? 'pointer' : '';\n});\n// Close the popup when the map is moved\nmap.on('movestart', disposePopover);\n"],"names":["iconFeature","geometry","name","population","rainfall","iconStyle","image","anchor","anchorXUnits","anchorYUnits","src","setStyle","vectorSource","features","vectorLayer","source","rasterLayer","url","crossOrigin","map","layers","target","document","getElementById","view","center","zoom","element","popup","positioning","stopEvent","popover","disposePopover","dispose","undefined","addOverlay","on","evt","feature","forEachFeatureAtPixel","pixel","setPosition","coordinate","bootstrap","Popover","placement","html","content","get","show","e","hit","hasFeatureAtPixel","getTargetElement","style","cursor"],"sourceRoot":""}