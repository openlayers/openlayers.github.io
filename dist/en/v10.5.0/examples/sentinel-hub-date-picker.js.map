{"version":3,"file":"sentinel-hub-date-picker.js","mappings":"uJAMA,UAEA,MAAMA,EAAS,IAAI,KAAY,CAC7BC,WAAY,CACVC,MAAO,KAAM,CACXC,MAAO,CAAC,MAAO,MAAO,OACtBC,OAAQ,CAACC,MAAO,KAElBC,cAAgBC,GAAW,CAAC,EAAIA,EAAOC,IAAK,EAAID,EAAOE,IAAK,EAAIF,EAAOG,QAI/D,IAAI,IAAI,CAClBC,OAAQ,CAAC,IAAI,IAAU,CAACX,YACxBY,OAAQ,MACRC,KAAM,IAAI,KAAK,CACbC,OAAQ,EAAE,MAAO,QACjBC,KAAM,GACNC,QAAS,EACTC,QAAS,OAIbC,SAASC,eAAe,aAAaC,iBAAiB,UAAWC,IAC/D,MAAMC,EAAWD,EAAMT,OAAOW,SAAa,GAAEC,MACvCC,EAAeJ,EAAMT,OAAOW,SAAiB,OAAEC,MACrDxB,EAAO0B,QAAQ,CAACJ,WAAUG,gBAAc,IAG1C,MAAME,EAAST,SAASC,eAAe,WAEvC,SAASS,IACP,MAAMC,EAAS,IAAIC,KAAKH,EAAOH,OACzBO,EAAW,IAAID,KAAKD,EAAOG,WACjCD,EAASE,QAAQF,EAASG,UAAY,GAEtClC,EAAOmC,QAAQ,CACb,CACEC,KAAM,iBACNC,WAAY,CACVC,UAAW,CACTC,KAAMR,EAASS,cACfC,GAAIZ,EAAOW,kBAKrB,CAEAb,EAAOP,iBAAiB,UAAU,IAAMQ,MACxCA,IAEA5B,EAAO0C,GAAG,UAAU,KACQ,UAAtB1C,EAAO2C,YACTC,MAAM5C,EAAO6C,WACf,G","sources":["webpack:///./sentinel-hub-date-picker.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport TileLayer from '../src/ol/layer/WebGLTile.js';\nimport {useGeographic} from '../src/ol/proj.js';\nimport SentinelHub from '../src/ol/source/SentinelHub.js';\n\nuseGeographic();\n\nconst source = new SentinelHub({\n  evalscript: {\n    setup: () => ({\n      input: ['B02', 'B03', 'B04'],\n      output: {bands: 3},\n    }),\n    evaluatePixel: (sample) => [3 * sample.B04, 3 * sample.B03, 3 * sample.B02],\n  },\n});\n\nconst map = new Map({\n  layers: [new TileLayer({source})],\n  target: 'map',\n  view: new View({\n    center: [-108.6, 43.185],\n    zoom: 12,\n    minZoom: 7,\n    maxZoom: 13,\n  }),\n});\n\ndocument.getElementById('auth-form').addEventListener('submit', (event) => {\n  const clientId = event.target.elements['id'].value;\n  const clientSecret = event.target.elements['secret'].value;\n  source.setAuth({clientId, clientSecret});\n});\n\nconst picker = document.getElementById('to-date');\n\nfunction updateInputData() {\n  const toDate = new Date(picker.value);\n  const fromDate = new Date(toDate.getTime());\n  fromDate.setDate(fromDate.getDate() - 7);\n\n  source.setData([\n    {\n      type: 'sentinel-2-l2a',\n      dataFilter: {\n        timeRange: {\n          from: fromDate.toISOString(),\n          to: toDate.toISOString(),\n        },\n      },\n    },\n  ]);\n}\n\npicker.addEventListener('change', () => updateInputData());\nupdateInputData();\n\nsource.on('change', () => {\n  if (source.getState() === 'error') {\n    alert(source.getError());\n  }\n});\n"],"names":["source","evalscript","setup","input","output","bands","evaluatePixel","sample","B04","B03","B02","layers","target","view","center","zoom","minZoom","maxZoom","document","getElementById","addEventListener","event","clientId","elements","value","clientSecret","setAuth","picker","updateInputData","toDate","Date","fromDate","getTime","setDate","getDate","setData","type","dataFilter","timeRange","from","toISOString","to","on","getState","alert","getError"],"sourceRoot":""}