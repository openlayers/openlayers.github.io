{"version":3,"file":"cog-style.js","mappings":"2IAMA,SAASA,EAAUC,GACjB,MAAO,CAAC,IAAKA,EAFH,IAGZ,CAEA,MAAMC,EAAMF,EAAU,CAAC,OAAQ,IACzBG,EAAQH,EAAU,CAAC,OAAQ,IAC3BI,EAAOJ,EAAU,CAAC,OAAQ,IAC1BK,EAAML,EAAU,CAAC,OAAQ,IAEzBM,EAAY,CAChBC,MAAO,CAAC,QAASL,EAAKC,EAAOC,EAAM,GACnCI,MAAO,KAGHC,EAAa,CACjBF,MAAO,CAAC,QAASF,EAAKH,EAAKC,EAAO,GAClCK,MAAO,KAGHE,EAAO,CACXH,MAAO,CACL,cACA,CAAC,UACD,CAAC,IAAK,CAAC,IAAKF,EAAKH,GAAM,CAAC,IAAKG,EAAKH,KAEjC,GACD,CAAC,IAAK,IAAK,MACV,GACD,CAAC,IAAK,IAAK,KACX,EACA,CAAC,IAAK,IAAK,KACX,KACA,CAAC,IAAK,IAAK,KACX,IACA,CAAC,IAAK,IAAK,KACX,KACA,CAAC,IAAK,IAAK,KACX,GACA,CAAC,IAAK,IAAK,KACX,KACA,CAAC,IAAK,IAAK,KACX,IACA,CAAC,IAAK,IAAK,IACX,KACA,CAAC,IAAK,IAAK,IACX,GACA,CAAC,IAAK,IAAK,IACX,IACA,CAAC,IAAK,IAAK,IACX,GACA,CAAC,IAAK,IAAK,IACX,IACA,CAAC,GAAI,IAAK,IACV,GACA,CAAC,GAAI,IAAK,IACV,IACA,CAAC,GAAI,IAAK,IACV,GACA,CAAC,GAAI,IAAK,IACV,IACA,CAAC,GAAI,GAAI,IACT,GACA,CAAC,GAAI,GAAI,IACT,IACA,CAAC,EAAG,GAAI,KAINS,EAAoB,CACxBJ,MAAO,CACL,UACA,CACE,cACA,CAAC,UACD,CAAC,IAAK,CAAC,IAAKF,EAAKH,GAAM,CAAC,IAAKG,EAAKH,KACjC,GACD,EACA,IACA,GAEF,CAAC,UAAW,UAAW,UAAW,UAAW,aAG3CU,EAAqB,CACzBL,MAAO,CACL,UACA,CACE,cACA,CAAC,UACD,CAAC,IAAK,CAAC,IAAKF,EAAKH,GAAM,CAAC,IAAKG,EAAKH,KACjC,GACD,EACA,IACA,GAEF,CAAC,UAAW,UAAW,UAAW,UAAW,aAI3CW,EAAQ,IAAI,IAAU,CAC1BC,MAAOR,EACPS,OAAQ,IAAI,IAAQ,CAClBf,WAAW,EACXgB,QAAS,CACP,CACEC,IAAK,6GAiBPC,GAXM,IAAI,IAAI,CAClBC,OAAQ,MACRC,OAAQ,CAACP,GACTQ,KAAM,IAAI,KAAK,CACbC,WAAY,YACZC,OAAQ,CAAC,EAAG,GACZC,KAAM,EACNC,QAAS,MAIE,CACbnB,YACAG,aACAC,OACAC,oBACAC,uBAGIc,EAAgBC,SAASC,eAAe,SAM9CF,EAAcG,iBAAiB,UAJ/B,WACE,MAAMf,EAAQI,EAAOQ,EAAczB,OACnCY,EAAMiB,SAAShB,EACjB,G","sources":["webpack:///./cog-style.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport TileLayer from '../src/ol/layer/WebGLTile.js';\nimport GeoTIFF from '../src/ol/source/GeoTIFF.js';\n\nconst max = 3000;\nfunction normalize(value) {\n  return ['/', value, max];\n}\n\nconst red = normalize(['band', 1]);\nconst green = normalize(['band', 2]);\nconst blue = normalize(['band', 3]);\nconst nir = normalize(['band', 4]);\n\nconst trueColor = {\n  color: ['array', red, green, blue, 1],\n  gamma: 1.1,\n};\n\nconst falseColor = {\n  color: ['array', nir, red, green, 1],\n  gamma: 1.1,\n};\n\nconst ndvi = {\n  color: [\n    'interpolate',\n    ['linear'],\n    ['/', ['-', nir, red], ['+', nir, red]],\n    // color ramp for NDVI values, ranging from -1 to 1\n    -0.2,\n    [191, 191, 191],\n    -0.1,\n    [219, 219, 219],\n    0,\n    [255, 255, 224],\n    0.025,\n    [255, 250, 204],\n    0.05,\n    [237, 232, 181],\n    0.075,\n    [222, 217, 156],\n    0.1,\n    [204, 199, 130],\n    0.125,\n    [189, 184, 107],\n    0.15,\n    [176, 194, 97],\n    0.175,\n    [163, 204, 89],\n    0.2,\n    [145, 191, 82],\n    0.25,\n    [128, 179, 71],\n    0.3,\n    [112, 163, 64],\n    0.35,\n    [97, 150, 54],\n    0.4,\n    [79, 138, 46],\n    0.45,\n    [64, 125, 36],\n    0.5,\n    [48, 110, 28],\n    0.55,\n    [33, 97, 18],\n    0.6,\n    [15, 84, 10],\n    0.65,\n    [0, 69, 0],\n  ],\n};\n\nconst ndviPalettePlasma = {\n  color: [\n    'palette',\n    [\n      'interpolate',\n      ['linear'],\n      ['/', ['-', nir, red], ['+', nir, red]],\n      -0.2,\n      0,\n      0.65,\n      4,\n    ],\n    ['#0d0887', '#7e03a8', '#cb4778', '#f89540', '#f0f921'],\n  ],\n};\nconst ndviPaletteViridis = {\n  color: [\n    'palette',\n    [\n      'interpolate',\n      ['linear'],\n      ['/', ['-', nir, red], ['+', nir, red]],\n      -0.2,\n      0,\n      0.65,\n      4,\n    ],\n    ['#440154', '#3b528b', '#21918c', '#5ec962', '#fde725'],\n  ],\n};\n\nconst layer = new TileLayer({\n  style: trueColor,\n  source: new GeoTIFF({\n    normalize: false,\n    sources: [\n      {\n        url: 'https://s2downloads.eox.at/demo/EOxCloudless/2020/rgbnir/s2cloudless2020-16bits_sinlge-file_z0-4.tif',\n      },\n    ],\n  }),\n});\n\nconst map = new Map({\n  target: 'map',\n  layers: [layer],\n  view: new View({\n    projection: 'EPSG:4326',\n    center: [0, 0],\n    zoom: 2,\n    maxZoom: 6,\n  }),\n});\n\nconst styles = {\n  trueColor,\n  falseColor,\n  ndvi,\n  ndviPalettePlasma,\n  ndviPaletteViridis,\n};\n\nconst styleSelector = document.getElementById('style');\n\nfunction update() {\n  const style = styles[styleSelector.value];\n  layer.setStyle(style);\n}\nstyleSelector.addEventListener('change', update);\n"],"names":["normalize","value","red","green","blue","nir","trueColor","color","gamma","falseColor","ndvi","ndviPalettePlasma","ndviPaletteViridis","layer","style","source","sources","url","styles","target","layers","view","projection","center","zoom","maxZoom","styleSelector","document","getElementById","addEventListener","setStyle"],"sourceRoot":""}