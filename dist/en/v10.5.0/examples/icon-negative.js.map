{"version":3,"file":"icon-negative.js","mappings":"uNAYA,SAASA,EAAYC,EAAKC,GACxB,OAAO,IAAI,KAAM,CACfC,MAAO,IAAI,IAAK,CACdC,OAAQ,CAAC,GAAK,KACdC,YAAa,YACbJ,IAAKA,EACLC,IAAKA,KAGX,CAEA,MAAMI,EAAc,IAAI,IAAQ,IAAI,IAAM,CAAC,EAAG,KAC9CA,EAAYC,IAAI,QAASP,EAAY,qBAAiBQ,IAEtD,MAAMC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CACN,IAAI,IAAU,CACZC,OAAQ,IAAI,IAAW,CAACC,MAAO,wBAEjC,IAAI,IAAY,CACdC,MAAO,SAAUC,GACf,OAAOA,EAAQC,IAAI,QACrB,EACAJ,OAAQ,IAAI,IAAa,CAACK,SAAU,CAACV,QAGzCW,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI,KAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAIJC,EAAc,CAAC,EACfC,EAAS,IAAI,IAAO,CACxBX,MAAO,SAAUC,GACf,MAAMX,EAAQW,EAAQC,IAAI,SAASU,WAAWA,WAC9C,IAAKF,EAAYpB,EAAMF,KAAM,CAC3B,MAAMyB,EAASR,SAASS,cAAc,UAChCC,EAAUF,EAAOG,WAAW,MAClCH,EAAOI,MAAQ3B,EAAM2B,MACrBJ,EAAOK,OAAS5B,EAAM4B,OACtBH,EAAQI,UAAU7B,EAAO,EAAG,EAAGA,EAAM2B,MAAO3B,EAAM4B,QAClD,MAAME,EAAYL,EAAQM,aAAa,EAAG,EAAGR,EAAOI,MAAOJ,EAAOK,QAC5DI,EAAOF,EAAUE,KACvB,IAAK,IAAIC,EAAI,EAAGC,EAAKF,EAAKG,OAAQF,EAAIC,EAAID,GAASA,EAAI,GAAK,EAAI,EAAI,EAClED,EAAKC,GAAK,IAAMD,EAAKC,GAEvBR,EAAQW,aAAaN,EAAW,EAAG,GACnCV,EAAYpB,EAAMF,KAAOD,OAAYQ,EAAWkB,EAClD,CACA,OAAOH,EAAYpB,EAAMF,IAC3B,IAEFQ,EAAI+B,eAAehB,GAEnBf,EAAIgC,GAAG,eAAe,SAAUC,GAC9BjC,EAAIkC,mBAAmB9B,MAAM+B,OAASnC,EAAIoC,kBAAkBH,EAAII,OAC5D,UACA,EACN,G","sources":["webpack:///./icon-negative.js"],"sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport Point from '../src/ol/geom/Point.js';\nimport Select from '../src/ol/interaction/Select.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport VectorLayer from '../src/ol/layer/Vector.js';\nimport StadiaMaps from '../src/ol/source/StadiaMaps.js';\nimport VectorSource from '../src/ol/source/Vector.js';\nimport Icon from '../src/ol/style/Icon.js';\nimport Style from '../src/ol/style/Style.js';\n\nfunction createStyle(src, img) {\n  return new Style({\n    image: new Icon({\n      anchor: [0.5, 0.96],\n      crossOrigin: 'anonymous',\n      src: src,\n      img: img,\n    }),\n  });\n}\n\nconst iconFeature = new Feature(new Point([0, 0]));\niconFeature.set('style', createStyle('data/icon.png', undefined));\n\nconst map = new Map({\n  layers: [\n    new TileLayer({\n      source: new StadiaMaps({layer: 'stamen_watercolor'}),\n    }),\n    new VectorLayer({\n      style: function (feature) {\n        return feature.get('style');\n      },\n      source: new VectorSource({features: [iconFeature]}),\n    }),\n  ],\n  target: document.getElementById('map'),\n  view: new View({\n    center: [0, 0],\n    zoom: 3,\n  }),\n});\n\nconst selectStyle = {};\nconst select = new Select({\n  style: function (feature) {\n    const image = feature.get('style').getImage().getImage();\n    if (!selectStyle[image.src]) {\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      canvas.width = image.width;\n      canvas.height = image.height;\n      context.drawImage(image, 0, 0, image.width, image.height);\n      const imageData = context.getImageData(0, 0, canvas.width, canvas.height);\n      const data = imageData.data;\n      for (let i = 0, ii = data.length; i < ii; i = i + (i % 4 == 2 ? 2 : 1)) {\n        data[i] = 255 - data[i];\n      }\n      context.putImageData(imageData, 0, 0);\n      selectStyle[image.src] = createStyle(undefined, canvas);\n    }\n    return selectStyle[image.src];\n  },\n});\nmap.addInteraction(select);\n\nmap.on('pointermove', function (evt) {\n  map.getTargetElement().style.cursor = map.hasFeatureAtPixel(evt.pixel)\n    ? 'pointer'\n    : '';\n});\n"],"names":["createStyle","src","img","image","anchor","crossOrigin","iconFeature","set","undefined","map","layers","source","layer","style","feature","get","features","target","document","getElementById","view","center","zoom","selectStyle","select","getImage","canvas","createElement","context","getContext","width","height","drawImage","imageData","getImageData","data","i","ii","length","putImageData","addInteraction","on","evt","getTargetElement","cursor","hasFeatureAtPixel","pixel"],"sourceRoot":""}