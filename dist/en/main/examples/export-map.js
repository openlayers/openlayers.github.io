"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1836],{86695:function(e,t,o){var n=o(41564),r=o(87240),a=o(46928),l=o(49208),c=o(52613),s=o(23986),i=o(29810),p=o(38276);const u=new(o(88292).Ay)({fill:new p.A({color:"#eeeeee"})}),d=new n.A({layers:[new s.A({source:new i.A({url:"https://openlayers.org/data/vector/ecoregions.json",format:new l.A}),background:"white",style:function(e){const t=(0,a._j)(e.get("COLOR_NNH")||"#eeeeee");return t[3]=.75,u.getFill().setColor(t),u}}),new c.A({source:new i.A({url:"data/geojson/world-cities.geojson",format:new l.A}),weight:function(e){return e.get("population")/1e7},radius:15,blur:15,opacity:.75})],target:"map",view:new r.Ay({center:[0,0],zoom:2})});document.getElementById("export-png").addEventListener("click",(function(){d.once("rendercomplete",(function(){const e=document.createElement("canvas"),t=d.getSize();e.width=t[0],e.height=t[1];const o=e.getContext("2d");Array.prototype.forEach.call(d.getViewport().querySelectorAll(".ol-layer canvas, canvas.ol-layer"),(function(e){if(e.width>0){const t=e.parentNode.style.opacity||e.style.opacity;let n;o.globalAlpha=""===t?1:Number(t);const r=e.style.transform;n=r?r.match(/^matrix\(([^\(]*)\)$/)[1].split(",").map(Number):[parseFloat(e.style.width)/e.width,0,0,parseFloat(e.style.height)/e.height,0,0],CanvasRenderingContext2D.prototype.setTransform.apply(o,n);const a=e.parentNode.style.backgroundColor;a&&(o.fillStyle=a,o.fillRect(0,0,e.width,e.height)),o.drawImage(e,0,0)}})),o.globalAlpha=1,o.setTransform(1,0,0,1,0,0);const n=document.getElementById("image-download");n.href=e.toDataURL(),n.click()})),d.renderSync()}))}},function(e){var t;t=86695,e(e.s=t)}]);
//# sourceMappingURL=export-map.js.map