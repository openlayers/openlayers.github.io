
        export function create() {
          const source = "function t(t,n,x=2){const i=n&&n.length,o=i?n[0]*x:t.length;let f=e(t,0,o,x,!0);const l=[];if(!f||f.next===f.prev)return l;let c,y,h;if(i&&(f=function(t,n,r,x){const i=[];for(let r=0,o=n.length;r<o;r++){const f=e(t,n[r]*x,r<o-1?n[r+1]*x:t.length,x,!1);f===f.next&&(f.steiner=!0),i.push(a(f))}i.sort(u);for(let t=0;t<i.length;t++)r=s(i[t],r);return r}(t,n,f,x)),t.length>80*x){c=1/0,y=1/0;let e=-1/0,n=-1/0;for(let r=x;r<o;r+=x){const x=t[r],i=t[r+1];x<c&&(c=x),i<y&&(y=i),x>e&&(e=x),i>n&&(n=i)}h=Math.max(e-c,n-y),h=0!==h?32767/h:0}return r(f,l,x,c,y,h,0),l}function e(t,e,n,r,x){let i;if(x===function(t,e,n,r){let x=0;for(let i=e,o=n-r;i<n;i+=r)x+=(t[o]-t[i])*(t[i+1]+t[o+1]),o=i;return x}(t,e,n,r)>0)for(let x=e;x<n;x+=r)i=d(x/r|0,t[x],t[x+1],i);else for(let x=n-r;x>=e;x-=r)i=d(x/r|0,t[x],t[x+1],i);return i&&b(i,i.next)&&(w(i),i=i.next),i}function n(t,e){if(!t)return t;e||(e=t);let n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(w(r),r=e=r.prev,r===r.next)break;n=!0}}while(n||r!==e);return e}function r(t,e,u,s,l,a,y){if(!t)return;!y&&a&&function(t,e,n,r){let x=t;do{0===x.z&&(x.z=c(x.x,x.y,e,n,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==t);x.prevZ.nextZ=null,x.prevZ=null,function(t){let e,n=1;do{let r,x=t;t=null;let i=null;for(e=0;x;){e++;let o=x,f=0;for(let t=0;t<n&&(f++,o=o.nextZ,o);t++);let u=n;for(;f>0||u>0&&o;)0!==f&&(0===u||!o||x.z<=o.z)?(r=x,x=x.nextZ,f--):(r=o,o=o.nextZ,u--),i?i.nextZ=r:t=r,r.prevZ=i,i=r;x=o}i.nextZ=null,n*=2}while(e>1)}(x)}(t,s,l,a);let h=t;for(;t.prev!==t.next;){const c=t.prev,p=t.next;if(a?i(t,s,l,a):x(t))e.push(c.i,t.i,p.i),w(t),t=p.next,h=p.next;else if((t=p)===h){y?1===y?r(t=o(n(t),e),e,u,s,l,a,2):2===y&&f(t,e,u,s,l,a):r(n(t),e,u,s,l,a,1);break}}}function x(t){const e=t.prev,n=t,r=t.next;if(v(e,n,r)>=0)return!1;const x=e.x,i=n.x,o=r.x,f=e.y,u=n.y,s=r.y,l=Math.min(x,i,o),c=Math.min(f,u,s),a=Math.max(x,i,o),y=Math.max(f,u,s);let p=r.next;for(;p!==e;){if(p.x>=l&&p.x<=a&&p.y>=c&&p.y<=y&&h(x,f,i,u,o,s,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function i(t,e,n,r){const x=t.prev,i=t,o=t.next;if(v(x,i,o)>=0)return!1;const f=x.x,u=i.x,s=o.x,l=x.y,a=i.y,y=o.y,p=Math.min(f,u,s),b=Math.min(l,a,y),m=Math.max(f,u,s),A=Math.max(l,a,y),M=c(p,b,e,n,r),g=c(m,A,e,n,r);let Z=t.prevZ,d=t.nextZ;for(;Z&&Z.z>=M&&d&&d.z<=g;){if(Z.x>=p&&Z.x<=m&&Z.y>=b&&Z.y<=A&&Z!==x&&Z!==o&&h(f,l,u,a,s,y,Z.x,Z.y)&&v(Z.prev,Z,Z.next)>=0)return!1;if(Z=Z.prevZ,d.x>=p&&d.x<=m&&d.y>=b&&d.y<=A&&d!==x&&d!==o&&h(f,l,u,a,s,y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;Z&&Z.z>=M;){if(Z.x>=p&&Z.x<=m&&Z.y>=b&&Z.y<=A&&Z!==x&&Z!==o&&h(f,l,u,a,s,y,Z.x,Z.y)&&v(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;d&&d.z<=g;){if(d.x>=p&&d.x<=m&&d.y>=b&&d.y<=A&&d!==x&&d!==o&&h(f,l,u,a,s,y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function o(t,e){let r=t;do{const n=r.prev,x=r.next.next;!b(n,x)&&m(n,r,r.next,x)&&g(n,x)&&g(x,n)&&(e.push(n.i,r.i,x.i),w(r),w(r.next),r=t=x),r=r.next}while(r!==t);return n(r)}function f(t,e,x,i,o,f){let u=t;do{let t=u.next.next;for(;t!==u.prev;){if(u.i!==t.i&&p(u,t)){let s=Z(u,t);return u=n(u,u.next),s=n(s,s.next),r(u,e,x,i,o,f,0),void r(s,e,x,i,o,f,0)}t=t.next}u=u.next}while(u!==t)}function u(t,e){let n=t.x-e.x;if(0===n&&(n=t.y-e.y,0===n)){n=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)}return n}function s(t,e){const r=function(t,e){let n=e;const r=t.x,x=t.y;let i,o=-1/0;if(b(t,n))return n;do{if(b(t,n.next))return n.next;if(x<=n.y&&x>=n.next.y&&n.next.y!==n.y){const t=n.x+(x-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=r&&t>o&&(o=t,i=n.x<n.next.x?n:n.next,t===r))return i}n=n.next}while(n!==e);if(!i)return null;const f=i,u=i.x,s=i.y;let c=1/0;n=i;do{if(r>=n.x&&n.x>=u&&r!==n.x&&y(x<s?r:o,x,u,s,x<s?o:r,x,n.x,n.y)){const e=Math.abs(x-n.y)/(r-n.x);g(n,t)&&(e<c||e===c&&(n.x>i.x||n.x===i.x&&l(i,n)))&&(i=n,c=e)}n=n.next}while(n!==f);return i}(t,e);if(!r)return e;const x=Z(r,t);return n(x,x.next),n(r,r.next)}function l(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function c(t,e,n,r,x){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*x|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*x|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function a(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function y(t,e,n,r,x,i,o,f){return(x-o)*(e-f)>=(t-o)*(i-f)&&(t-o)*(r-f)>=(n-o)*(e-f)&&(n-o)*(i-f)>=(x-o)*(r-f)}function h(t,e,n,r,x,i,o,f){return!(t===o&&e===f)&&y(t,e,n,r,x,i,o,f)}function p(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&m(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(g(t,e)&&g(e,t)&&function(t,e){let n=t,r=!1;const x=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&x<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||b(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function m(t,e,n,r){const x=M(v(t,e,n)),i=M(v(t,e,r)),o=M(v(n,r,t)),f=M(v(n,r,e));return x!==i&&o!==f||(!(0!==x||!A(t,n,e))||(!(0!==i||!A(t,r,e))||(!(0!==o||!A(n,t,r))||!(0!==f||!A(n,e,r)))))}function A(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function M(t){return t>0?1:t<0?-1:0}function g(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function Z(t,e){const n=F(t.i,t.x,t.y),r=F(e.i,e.x,e.y),x=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=x,x.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function d(t,e,n,r){const x=F(t,e,n);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function w(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function F(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function E(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function I(t,e){const n=(r=e)[0]*r[3]-r[1]*r[2];var r;!function(t,e){if(!t)throw new Error(e)}(0!==n,\"Transformation matrix cannot be inverted\");const x=e[0],i=e[1],o=e[2],f=e[3],u=e[4],s=e[5];return t[0]=f/n,t[1]=-i/n,t[2]=-o/n,t[3]=x/n,t[4]=(o*s-f*u)/n,t[5]=-(x*s-i*u)/n,t}new Array(6);const z=[],B={vertexAttributesPosition:0,instanceAttributesPosition:0,indicesPosition:0};function P(t,e,n,r,x){const i=t[e++],o=t[e++],f=z;f.length=r;for(let n=0;n<f.length;n++)f[n]=t[e+n];let u=x?x.instanceAttributesPosition:0;return n[u++]=i,n[u++]=o,f.length&&(n.set(f,u),u+=f.length),B.instanceAttributesPosition=u,B}function N(t,e,n,r,x,i,o,f,u,s){const l=[t[e+0],t[e+1]],c=[t[n],t[n+1]],a=t[e+2],y=t[n+2],h=E(f,[...l]),p=E(f,[...c]);function v(t,e,n){const r=Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])),x=[(e[0]-t[0])/r,(e[1]-t[1])/r],i=[-x[1],x[0]],o=Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])),f=[(n[0]-t[0])/o,(n[1]-t[1])/o],u=0===r||0===o?0:Math.acos((s=f[0]*x[0]+f[1]*x[1],l=-1,c=1,Math.min(Math.max(s,l),c)));var s,l,c;return f[0]*i[0]+f[1]*i[1]>0?u:2*Math.PI-u}let b=-1,m=-1,A=s;const M=null!==x;if(null!==r){b=v(h,p,E(f,[...[t[r],t[r+1]]])),Math.cos(b)<=.985&&(A+=Math.tan((b-Math.PI)/2))}if(M){m=v(p,h,E(f,[...[t[x],t[x+1]]])),Math.cos(m)<=.985&&(A+=Math.tan((Math.PI-m)/2))}return i.push(l[0],l[1],a,c[0],c[1],y,b,m,u,s),i.push(...o),{length:u+Math.sqrt((p[0]-h[0])*(p[0]-h[0])+(p[1]-h[1])*(p[1]-h[1])),angle:A}}function R(e,n,r,x,i){const o=2+i;let f=n;const u=e.slice(f,f+i);f+=i;const s=e[f++];let l=0;const c=new Array(s-1);for(let t=0;t<s;t++)l+=e[f++],t<s-1&&(c[t]=l);const a=e.slice(f,f+2*l),y=t(a,c,2);for(let t=0;t<y.length;t++)x.push(y[t]+r.length/o);for(let t=0;t<a.length;t+=2)r.push(a[t],a[t+1],...u);return f+2*l}const S=\"GENERATE_POLYGON_BUFFERS\",T=\"GENERATE_POINT_BUFFERS\",_=\"GENERATE_LINE_STRING_BUFFERS\",O=self;O.onmessage=t=>{const e=t.data;switch(e.type){case T:{const t=2,n=2,r=e.customAttributesSize,x=n+r,i=new Float32Array(e.renderInstructions),o=i.length/x*(t+r),f=Uint32Array.from([0,1,3,1,2,3]),u=Float32Array.from([-1,-1,1,-1,1,1,-1,1]),s=new Float32Array(o);let l;for(let t=0;t<i.length;t+=x)l=P(i,t,s,r,l);const c=Object.assign({indicesBuffer:f.buffer,vertexAttributesBuffer:u.buffer,instanceAttributesBuffer:s.buffer,renderInstructions:i.buffer},e);O.postMessage(c,[u.buffer,s.buffer,f.buffer,i.buffer]);break}case _:{const t=[],n=e.customAttributesSize,r=3,x=new Float32Array(e.renderInstructions);let i=0;const o=[1,0,0,1,0,0];let f,u;for(I(o,e.renderInstructionsTransform);i<x.length;){u=Array.from(x.slice(i,i+n)),i+=n,f=x[i++];const e=i,s=i+(f-1)*r,l=x[e]===x[s]&&x[e+1]===x[s+1];let c=0,a=0;for(let n=0;n<f-1;n++){let y=null;n>0?y=i+(n-1)*r:l&&(y=s-r);let h=null;n<f-2?h=i+(n+2)*r:l&&(h=e+r);const p=N(x,i+n*r,i+(n+1)*r,y,h,t,u,o,c,a);c=p.length,a=p.angle}i+=f*r}const s=Uint32Array.from([0,1,3,1,2,3]),l=Float32Array.from([-1,-1,1,-1,1,1,-1,1]),c=Float32Array.from(t),a=Object.assign({indicesBuffer:s.buffer,vertexAttributesBuffer:l.buffer,instanceAttributesBuffer:c.buffer,renderInstructions:x.buffer},e);O.postMessage(a,[l.buffer,c.buffer,s.buffer,x.buffer]);break}case S:{const t=[],n=[],r=e.customAttributesSize,x=new Float32Array(e.renderInstructions);let i=0;for(;i<x.length;)i=R(x,i,t,n,r);const o=Uint32Array.from(n),f=Float32Array.from(t),u=Float32Array.from([]),s=Object.assign({indicesBuffer:o.buffer,vertexAttributesBuffer:f.buffer,instanceAttributesBuffer:u.buffer,renderInstructions:x.buffer},e);O.postMessage(s,[f.buffer,u.buffer,o.buffer,x.buffer]);break}}};";
          return new Worker(typeof Blob === 'undefined'
            ? 'data:application/javascript;base64,' + Buffer.from(source, 'binary').toString('base64')
            : URL.createObjectURL(new Blob([source], {type: 'application/javascript'})));
        }
      
