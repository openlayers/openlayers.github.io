"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[42],{54438:function(e,t,n){function o(e,t={}){const{sorted:n}=t;n||(e=e.slice().sort(a));const o=e.length,s=new Array(2*o);let i=0;for(let t=0;t<o;t++){const n=e[t];for(;i>=2&&r(s[i-2],s[i-1],n)<=0;)i--;s[i++]=n}const c=i+1;for(let t=o-2;t>=0;t--){const n=e[t];for(;i>=c&&r(s[i-2],s[i-1],n)<=0;)i--;s[i++]=n}return s.slice(0,i-1)}function r(e,t,n){return(t[1]-e[1])*(n[0]-e[0])-(t[0]-e[0])*(n[1]-e[1])}function a(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}var s=n(51541),i=n(41564),c=n(87240),g=n(16235),l=n(49208),u=n(77833),w=n(40878),f=n(30470),m=n(12185),A=n(23986),h=n(25231),y=n(28227),p=n(15264),d=n(29810),b=n(21133),x=n(38276),k=n(75052),v=n(44689),G=n(88292),M=n(59194);const S=Math.PI/2,C=new x.A({color:"rgba(255, 153, 0, 0.4)"}),E=new v.A({color:"rgba(204, 85, 0, 1)",width:1.5}),I=new x.A({color:"rgba(255, 153, 102, 0.3)"}),P=new x.A({color:"rgba(255, 165, 0, 0.7)"}),R=new x.A({color:"#fff"}),F=new v.A({color:"rgba(0, 0, 0, 0.6)",width:3}),Z=new b.A({radius:14,fill:P}),j=new b.A({radius:20,fill:I}),z=new k.A({src:"data/icons/emoticon-cool.svg"}),T=new k.A({src:"data/icons/emoticon-cool-outline.svg"});function V(e){return new G.Ay({geometry:e.getGeometry(),image:e.get("LEISTUNG")>5?z:T})}let q,B,D;function L(e,t){if(e!==q||t!==B)return null;const n=e.get("features"),o=e.getGeometry().getCoordinates();return function(e,t,n){let o=28*(2+e)/(2*Math.PI);const r=2*Math.PI/e,a=[];let s;o=Math.max(o,35)*n;for(let n=0;n<e;++n)s=S+n*r,a.push([t[0]+o*Math.cos(s),t[1]+o*Math.sin(s)]);return a}(n.length,e.getGeometry().getCoordinates(),t).reduce(((e,t,r)=>{const a=new w.A(t),i=new u.A([o,t]);return e.unshift(new G.Ay({geometry:i,stroke:E})),e.push(V(new s.A({...n[r].getProperties(),geometry:a}))),e}),[])}function N(e){if(e!==D)return null;const t=e.get("features").map((e=>e.getGeometry().getCoordinates()));return new G.Ay({geometry:new f.Ay([o(t)]),fill:C,stroke:E})}const O=new d.A({format:new l.A,url:"data/geojson/photovoltaic.json"}),U=new y.A({attributions:'Data: <a href="https://www.data.gv.at/auftritte/?organisation=stadt-wien">Stadt Wien</a>',distance:35,source:O}),W=new A.A({source:U,style:N}),X=new A.A({source:U,style:function(e){const t=e.get("features").length;return t>1?[new G.Ay({image:j}),new G.Ay({image:Z,text:new M.A({text:t.toString(),fill:R,stroke:F})})]:V(e.get("features")[0])}}),$=new A.A({source:U,style:L}),_=new m.A({source:new p.A({attributions:'Base map: <a target="_blank" href="https://basemap.at/">basemap.at</a>',url:"https://maps{1-4}.wien.gv.at/basemap/bmapgrau/normal/google3857/{z}/{y}/{x}.png"})}),H=new i.A({layers:[_,W,X,$],target:"map",view:new c.Ay({center:[0,0],zoom:2,maxZoom:19,extent:[...(0,h.Rb)([16.1793,48.1124]),...(0,h.Rb)([16.5559,48.313])],showFullExtent:!0})});H.on("pointermove",(e=>{X.getFeatures(e.pixel).then((e=>{e[0]!==D&&(D=e[0],W.setStyle(N),H.getTargetElement().style.cursor=D&&D.get("features").length>1?"pointer":"")}))})),H.on("click",(e=>{X.getFeatures(e.pixel).then((e=>{if(e.length>0){const t=e[0].get("features");if(t.length>1){const n=(0,g.S5)();t.forEach((e=>(0,g.X$)(n,e.getGeometry().getExtent())));const o=H.getView(),r=H.getView().getResolution();o.getZoom()===o.getMaxZoom()||(0,g.RG)(n)<r&&(0,g.Oq)(n)<r?(q=e[0],B=r,$.setStyle(L)):o.fit(n,{duration:500,padding:[50,50,50,50]})}}}))}))}},function(e){var t;t=54438,e(e.s=t)}]);
//# sourceMappingURL=clusters-dynamic.js.map