{"version":3,"file":"image-load-events.js","mappings":"0IAUA,SAASA,EAASC,GAChBC,KAAKD,GAAKA,EACVC,KAAKC,QAAU,EACfD,KAAKE,OAAS,CAChB,CAKAJ,EAASK,UAAUC,WAAa,aAC5BJ,KAAKC,QACPD,KAAKK,QACP,EAKAP,EAASK,UAAUG,UAAY,aAC3BN,KAAKE,OACPF,KAAKK,QACP,EAKAP,EAASK,UAAUE,OAAS,WAC1B,MAAME,GAAUP,KAAKE,OAASF,KAAKC,QAAW,KAAKO,QAAQ,GAAK,IAChER,KAAKD,GAAGU,MAAMF,MAAQA,CACxB,EAKAT,EAASK,UAAUO,KAAO,WACxBV,KAAKD,GAAGU,MAAME,WAAa,SAC7B,EAKAb,EAASK,UAAUS,KAAO,WACxB,MAAMH,EAAQT,KAAKD,GAAGU,MACtBI,YAAW,WACTJ,EAAME,WAAa,SACnBF,EAAMF,MAAQ,KAChB,GAAG,IACL,EAEA,MAAMO,EAAW,IAAIhB,EAASiB,SAASC,eAAe,aAEhDC,EAAS,IAAI,IAAS,CAC1BC,IAAK,qCACLC,OAAQ,CAAC,OAAU,eACnBC,WAAY,cAGdH,EAAOI,GAAG,kBAAkB,WAC1BP,EAASV,YACX,IACAa,EAAOI,GAAG,CAAC,eAAgB,mBAAmB,WAC5CP,EAASR,WACX,IAEA,MAAMgB,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAAC,IAAI,IAAW,CAACN,OAAQA,KACjCO,OAAQ,MACRC,KAAM,IAAI,KAAK,CACbC,OAAQ,EAAE,SAAU,SACpBC,KAAM,MAIVL,EAAID,GAAG,aAAa,WAClBP,EAASJ,MACX,IACAY,EAAID,GAAG,WAAW,WAChBP,EAASF,MACX,G","sources":["webpack:///./image-load-events.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport ImageLayer from '../src/ol/layer/Image.js';\nimport ImageWMS from '../src/ol/source/ImageWMS.js';\n\n/**\n * Renders a progress bar.\n * @param {HTMLElement} el The target element.\n * @class\n */\nfunction Progress(el) {\n  this.el = el;\n  this.loading = 0;\n  this.loaded = 0;\n}\n\n/**\n * Increment the count of loading tiles.\n */\nProgress.prototype.addLoading = function () {\n  ++this.loading;\n  this.update();\n};\n\n/**\n * Increment the count of loaded tiles.\n */\nProgress.prototype.addLoaded = function () {\n  ++this.loaded;\n  this.update();\n};\n\n/**\n * Update the progress bar.\n */\nProgress.prototype.update = function () {\n  const width = ((this.loaded / this.loading) * 100).toFixed(1) + '%';\n  this.el.style.width = width;\n};\n\n/**\n * Show the progress bar.\n */\nProgress.prototype.show = function () {\n  this.el.style.visibility = 'visible';\n};\n\n/**\n * Hide the progress bar.\n */\nProgress.prototype.hide = function () {\n  const style = this.el.style;\n  setTimeout(function () {\n    style.visibility = 'hidden';\n    style.width = '0px';\n  }, 250);\n};\n\nconst progress = new Progress(document.getElementById('progress'));\n\nconst source = new ImageWMS({\n  url: 'https://ahocevar.com/geoserver/wms',\n  params: {'LAYERS': 'topp:states'},\n  serverType: 'geoserver',\n});\n\nsource.on('imageloadstart', function () {\n  progress.addLoading();\n});\nsource.on(['imageloadend', 'imageloaderror'], function () {\n  progress.addLoaded();\n});\n\nconst map = new Map({\n  layers: [new ImageLayer({source: source})],\n  target: 'map',\n  view: new View({\n    center: [-10997148, 4569099],\n    zoom: 4,\n  }),\n});\n\nmap.on('loadstart', function () {\n  progress.show();\n});\nmap.on('loadend', function () {\n  progress.hide();\n});\n"],"names":["Progress","el","this","loading","loaded","prototype","addLoading","update","addLoaded","width","toFixed","style","show","visibility","hide","setTimeout","progress","document","getElementById","source","url","params","serverType","on","map","layers","target","view","center","zoom"],"sourceRoot":""}