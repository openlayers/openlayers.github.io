{"version":3,"file":"cog-stretch.js","mappings":"2IAKA,MAAMA,EAAW,CAAC,MAAO,QAAS,QAClC,IAAK,MAAMC,KAAWD,EAAU,CACbE,SAASC,eAAeF,GAChCG,iBAAiB,SAAUC,GAEtBH,SAASC,eAAe,GAAGF,QACnCG,iBAAiB,QAASC,EAClC,CAEA,SAASC,IACP,MAAMC,EAAY,CAAC,EACnB,IAAK,MAAMN,KAAWD,EAAU,CAC9B,MAAMQ,EAAWN,SAASC,eAAeF,GACzCM,EAAUN,GAAWQ,SAASD,EAASE,MAAO,IAE9C,MAAMC,EAAU,GAAGV,OACbW,EAAQV,SAASC,eAAeQ,GACtCJ,EAAUI,GAAWF,SAASG,EAAMF,MAAO,GAC7C,CACA,OAAOH,CACT,CAEA,MAAMM,EAAQ,IAAI,IAAU,CAC1BC,MAAO,CACLP,UAAWD,IACXS,MAAO,CACL,QACA,CAAC,IAAK,CAAC,OAAQ,CAAC,MAAO,QAAS,CAAC,MAAO,WACxC,CAAC,IAAK,CAAC,OAAQ,CAAC,MAAO,UAAW,CAAC,MAAO,aAC1C,CAAC,IAAK,CAAC,OAAQ,CAAC,MAAO,SAAU,CAAC,MAAO,YACzC,IAGJC,OAAQ,IAAI,IAAQ,CAClBC,WAAW,EACXC,QAAS,CACP,CACEC,IAAK,6GAMb,SAASd,IACPQ,EAAMO,qBAAqBd,IAC7B,CAEY,IAAI,IAAI,CAClBe,OAAQ,MACRC,OAAQ,CAACT,GACTU,KAAM,IAAI,KAAK,CACbC,WAAY,YACZC,OAAQ,CAAC,EAAG,GACZC,KAAM,EACNC,QAAS,K","sources":["webpack:///./cog-stretch.js"],"sourcesContent":["import Map from '../src/ol/Map.js';\nimport View from '../src/ol/View.js';\nimport TileLayer from '../src/ol/layer/WebGLTile.js';\nimport GeoTIFF from '../src/ol/source/GeoTIFF.js';\n\nconst channels = ['red', 'green', 'blue'];\nfor (const channel of channels) {\n  const selector = document.getElementById(channel);\n  selector.addEventListener('change', update);\n\n  const input = document.getElementById(`${channel}Max`);\n  input.addEventListener('input', update);\n}\n\nfunction getVariables() {\n  const variables = {};\n  for (const channel of channels) {\n    const selector = document.getElementById(channel);\n    variables[channel] = parseInt(selector.value, 10);\n\n    const inputId = `${channel}Max`;\n    const input = document.getElementById(inputId);\n    variables[inputId] = parseInt(input.value, 10);\n  }\n  return variables;\n}\n\nconst layer = new TileLayer({\n  style: {\n    variables: getVariables(),\n    color: [\n      'array',\n      ['/', ['band', ['var', 'red']], ['var', 'redMax']],\n      ['/', ['band', ['var', 'green']], ['var', 'greenMax']],\n      ['/', ['band', ['var', 'blue']], ['var', 'blueMax']],\n      1,\n    ],\n  },\n  source: new GeoTIFF({\n    normalize: false,\n    sources: [\n      {\n        url: 'https://s2downloads.eox.at/demo/EOxCloudless/2020/rgbnir/s2cloudless2020-16bits_sinlge-file_z0-4.tif',\n      },\n    ],\n  }),\n});\n\nfunction update() {\n  layer.updateStyleVariables(getVariables());\n}\n\nconst map = new Map({\n  target: 'map',\n  layers: [layer],\n  view: new View({\n    projection: 'EPSG:4326',\n    center: [0, 0],\n    zoom: 2,\n    maxZoom: 6,\n  }),\n});\n"],"names":["channels","channel","document","getElementById","addEventListener","update","getVariables","variables","selector","parseInt","value","inputId","input","layer","style","color","source","normalize","sources","url","updateStyleVariables","target","layers","view","projection","center","zoom","maxZoom"],"sourceRoot":""}