"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3624],{66317:function(e,t,r){var s=r(44090),n=r(37246),a=r(6157),l=r(86858);class o extends l.A{constructor(e){super(),e=e||{},this.featureNS_="http://mapserver.gis.umn.edu/mapserver",this.gmlFormat_=new a.A,this.layers_=e.layers?e.layers:null}getLayers(){return this.layers_}setLayers(e){this.layers_=e}readFeatures_(e,t){e.setAttribute("namespaceURI",this.featureNS_);const r=e.localName;let a=[];if(0===e.childNodes.length)return a;if("msGMLOutput"==r)for(let r=0,l=e.childNodes.length;r<l;r++){const l=e.childNodes[r];if(l.nodeType!==Node.ELEMENT_NODE)continue;const o=l,u=t[0],i="_layer",c=o.localName.replace(i,"");if(this.layers_&&!this.layers_.includes(c))continue;const h=c+"_feature";u.featureType=h,u.featureNS=this.featureNS_;const m={};m[h]=(0,n.VT)(this.gmlFormat_.readFeatureElement,this.gmlFormat_);const d=(0,n.Dm)([u.featureNS,null],m);o.setAttribute("namespaceURI",this.featureNS_);const f=(0,n.eY)([],d,o,t,this.gmlFormat_);f&&(0,s.X$)(a,f)}if("FeatureCollection"==r){const t=(0,n.eY)([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);t&&(a=t)}return a}readFeaturesFromNode(e,t){const r={};return t&&Object.assign(r,this.getReadOptions(e,t)),this.readFeatures_(e,[r])}}var u=o;fetch("data/wmsgetfeatureinfo/osm-restaurant-hotel.xml").then((function(e){return e.text()})).then((function(e){const t=(new u).readFeatures(e);document.getElementById("all").innerText=t.length.toString();const r=new u({layers:["hotel"]}).readFeatures(e);document.getElementById("hotel").innerText=r.length.toString();const s=new u({layers:["restaurant"]}).readFeatures(e);document.getElementById("restaurant").innerText=s.length.toString()}))}},function(e){var t;t=66317,e(e.s=t)}]);
//# sourceMappingURL=getfeatureinfo-layers.js.map